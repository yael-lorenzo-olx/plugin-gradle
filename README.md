# Gradle Plugin [![Build Status](https://travis-ci.org/athena-oss/plugin-gradle.svg?branch=master)](https://travis-ci.org/athena-oss/plugin-gradle)

This plugin allows you to execute gradle tasks in a configurable environment, reproduceable in different set-ups, such as: a development machine or a CI server. It also supports out of the box integration with an Android environment (e.g. Android Virtual Devices, etc); you can use it with local or remote devices.

To find out more about on how to manage Android devices using Athena refer to [Athena AVD Plugin](https://github.com/athena-oss/plugin-avd) or how to use Appium for running functional tests [Athena Appium Plugin](https://github.com/athena-oss/plugin-appium) for Android projects.

**HINT:** With this plugin you can use tools such as [Espresso](https://developer.android.com/training/testing/ui-testing/index.html) and [Robotium](http://www.robotium.org).

## How to Install ?

**On Linux**

* Using `apt-get` :

```bash
$ sudo add-apt-repository ppa:athena-oss/athena
$ sudo apt-get update
$ sudo apt-get install athena-plugin-gradle
```

**On MAC OSX**

* Using [Homebrew](http://brew.sh/) :

```bash
$ brew tap athena-oss/tap
$ brew install plugin-gradle
```

**Alternative**

```bash
$ athena plugins install gradle https://github.com/athena-oss/plugin-gradle.git
```

Read the [Documentation](http://athena-oss.github.io/plugin-gradle) on using Athena.

## How to Use ?

This plugin provides the following commands :

### cleanup - Cleanup all caches generated by the plugin

```bash
$ athena gradle cleanup
```

### exec - Execute a gradle task

```bash
$ athena gradle exec <project_dir> [<opts>...] [<tasks>...]

$ # e.g. execute unit tests
$ athena gradle exec my-project/ runUnitTests

$ # e.g. execute functional tests
$ athena gradle exec my-project/ runAndroidUITests --athena-env=my-android.env --with-avd=192.168.99.101:5555

$ # There is a special feature to improve performance on some systems.
$ # By default athena will create a cache folder where it will run the tests.
$ # WARNING: if some files, such as reports, are generated in some stage
$ # they will NOT be available in the project folder when athena finishes.
$ # In order to use the same project folder you should use this parameter
$ #       --skip-sync
$ athena gradle exec my-project/ runAndroidUITests --athena-env=my-android.env --with-avd=192.168.99.101:5555 --skip-sync
```
## Contributing

Checkout our guidelines on how to contribute in [CONTRIBUTING.md](CONTRIBUTING.md).

## Versioning

Releases are managed using github's release feature. We use [Semantic Versioning](http://semver.org) for all
the releases. Every change made to the code base will be referred to in the release notes (except for
cleanups and refactorings).

## License

Licensed under the [Apache License Version 2.0 (APLv2)](LICENSE).
